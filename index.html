<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>苏菜鸡的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="苏菜鸡的博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="苏菜鸡的博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="sucaiji">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="苏菜鸡的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.0.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">苏菜鸡的博客</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/02/hello-world/" class="article-date">
  <time datetime="2020-08-02T03:48:01.200Z" itemprop="datePublished">2020-08-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/02/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/08/02/hello-world/" data-id="ckdcpk3zh0000owu258szgb8i" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-ArrayList源码阅读笔记" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/18/ArrayList%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/" class="article-date">
  <time datetime="2020-05-18T12:37:07.000Z" itemprop="datePublished">2020-05-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/18/ArrayList%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/">ArrayList源码阅读笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>ArrayList的本质是一个可动态缩减的数组，内部由一个Object[] element对象数组来存储，int size记录数组大小。<br>ArrayList继承了java.util.AbstractList<E>，所有实现的接口有:Serializable ， Cloneable ， Iterable <E>， Collection <E>， List <E>， RandomAccess</p>
<h3 id="扩容机制"><a href="#扩容机制" class="headerlink" title="扩容机制"></a>扩容机制</h3><p>数组的缺点是声明时必须给出大小，且一旦声明后大小就无法修改。ArrayList由于底层是数组，所以需要解决数组扩容的问题。<br>当ArrayList的容量达到上限时，它的处理方式是这样的：<br>1.声明一个更大的数组<br>2.把原数组的对象挪到新数组中</p>
<p>相关方法如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * 在add(),addAll()等方法中都会调用此方法扩容</span><br><span class="line"> * @param minCapacity 支持add等操作所需的最小容量</span><br><span class="line"> *&#x2F;</span><br><span class="line">private void ensureCapacityInternal(int minCapacity) &#123;</span><br><span class="line">    ensureExplicitCapacity(calculateCapacity(elementData, minCapacity));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * 确保容量是否够用，如果不够用，则扩容</span><br><span class="line"> * @param minCapacity</span><br><span class="line"> *&#x2F;</span><br><span class="line">private void ensureExplicitCapacity(int minCapacity) &#123;</span><br><span class="line">    &#x2F;&#x2F;此处判断所需的最小容量有没有超过ArrayList大小，如超过，调用grow方法</span><br><span class="line">    if (minCapacity - elementData.length &gt; 0)</span><br><span class="line">        grow(minCapacity);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * 扩容的核心方法，会根据原本大小得出一个新的数组对象，并将原数组的对象数据复制过去。</span><br><span class="line"> * @param minCapacity </span><br><span class="line"> *&#x2F;</span><br><span class="line">private void grow(int minCapacity) &#123;</span><br><span class="line">    int oldCapacity &#x3D; elementData.length;</span><br><span class="line">    &#x2F;&#x2F; 数组大小扩容1.5倍</span><br><span class="line">    int newCapacity &#x3D; oldCapacity + (oldCapacity &gt;&gt; 1);</span><br><span class="line">    &#x2F;&#x2F; 如果新大小还是小于minCapacity，则大小设置为minCapacity</span><br><span class="line">    if (newCapacity - minCapacity &lt; 0)</span><br><span class="line">        newCapacity &#x3D; minCapacity;</span><br><span class="line">    &#x2F;&#x2F; 如果还是过小，则赋值一个最大数</span><br><span class="line">    if (newCapacity - MAX_ARRAY_SIZE &gt; 0)</span><br><span class="line">        newCapacity &#x3D; hugeCapacity(minCapacity);</span><br><span class="line">    &#x2F;&#x2F; 复制老数组对象到新数组</span><br><span class="line">    elementData &#x3D; Arrays.copyOf(elementData, newCapacity);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="RandomAccess接口"><a href="#RandomAccess接口" class="headerlink" title="RandomAccess接口"></a>RandomAccess接口</h3><h3 id="Iterator和ListIterator的区别"><a href="#Iterator和ListIterator的区别" class="headerlink" title="Iterator和ListIterator的区别"></a>Iterator和ListIterator的区别</h3><h3 id="批量删除batchRemove"><a href="#批量删除batchRemove" class="headerlink" title="批量删除batchRemove"></a>批量删除batchRemove</h3><p>ArrayList的removeAll和retainAll方法均使用了batchRemove批量删除，此方法使用了双指针思想。<br>设int r = 0为快指针，int w = 0为慢指针。遍历r到size，如果发现符合要求的数，和w交换位置，同时w++。<br>循环完毕后所有不符合要求的数都到了w后面，这时w-1指向最后一个符合要求的元素，此时将w - 1之后的元素删除。<br>核心算法为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">int r &#x3D; 0, w &#x3D; 0;</span><br><span class="line">try &#123;</span><br><span class="line">    for (; r &lt; size; r++) &#123;</span><br><span class="line">        if (c.contains(elementData[r]))</span><br><span class="line">            elementData[w++] &#x3D; elementData[r];</span><br><span class="line">    &#125;</span><br><span class="line">&#125; finally &#123;</span><br><span class="line">    if (r !&#x3D; size) &#123;</span><br><span class="line">        System.arraycopy(elementData, r,</span><br><span class="line">                         elementData, w,</span><br><span class="line">                         size - r);</span><br><span class="line">        w +&#x3D; size - r;</span><br><span class="line">    &#125;</span><br><span class="line">    if (w !&#x3D; size) &#123;</span><br><span class="line">        for (int i &#x3D; w; i &lt; size; i++)</span><br><span class="line">            elementData[i] &#x3D; null;</span><br><span class="line">        modCount +&#x3D; size - w;</span><br><span class="line">        size &#x3D; w;</span><br><span class="line">        modified &#x3D; true;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/05/18/ArrayList%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/" data-id="ckdcq6dh700005su24cg50w0d" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-无版权素材网收集" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/05/07/%E6%97%A0%E7%89%88%E6%9D%83%E7%B4%A0%E6%9D%90%E7%BD%91%E6%94%B6%E9%9B%86/" class="article-date">
  <time datetime="2020-05-07T08:54:02.000Z" itemprop="datePublished">2020-05-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/05/07/%E6%97%A0%E7%89%88%E6%9D%83%E7%B4%A0%E6%9D%90%E7%BD%91%E6%94%B6%E9%9B%86/">无版权素材网收集</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="图片类"><a href="#图片类" class="headerlink" title="图片类"></a>图片类</h1><h3 id="Unsplash"><a href="#Unsplash" class="headerlink" title="Unsplash"></a>Unsplash</h3><p>免费、无版权,可商用<br><a target="_blank" rel="noopener" href="https://unsplash.com/">Unsplash</a></p>
<h3 id="pixabay"><a href="#pixabay" class="headerlink" title="pixabay"></a>pixabay</h3><p><a target="_blank" rel="noopener" href="https://pixabay.com/">pixabay</a></p>
<h1 id="音乐音效"><a href="#音乐音效" class="headerlink" title="音乐音效"></a>音乐音效</h1><h3 id="freesound"><a href="#freesound" class="headerlink" title="freesound"></a>freesound</h3><p>有免费的有付费的<br><a target="_blank" rel="noopener" href="https://freesound.org/">freesound</a></p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p><a target="_blank" rel="noopener" href="https://www.findsounds.com/typesChinese.html">https://www.findsounds.com/typesChinese.html</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/05/07/%E6%97%A0%E7%89%88%E6%9D%83%E7%B4%A0%E6%9D%90%E7%BD%91%E6%94%B6%E9%9B%86/" data-id="ckdcpv4yr0004ygu27o0uaht6" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Eureka集群的节点之间无法互相注册的问题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/03/23/Eureka%E9%9B%86%E7%BE%A4%E7%9A%84%E8%8A%82%E7%82%B9%E4%B9%8B%E9%97%B4%E6%97%A0%E6%B3%95%E4%BA%92%E7%9B%B8%E6%B3%A8%E5%86%8C%E7%9A%84%E9%97%AE%E9%A2%98/" class="article-date">
  <time datetime="2020-03-23T06:06:03.000Z" itemprop="datePublished">2020-03-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/03/23/Eureka%E9%9B%86%E7%BE%A4%E7%9A%84%E8%8A%82%E7%82%B9%E4%B9%8B%E9%97%B4%E6%97%A0%E6%B3%95%E4%BA%92%E7%9B%B8%E6%B3%A8%E5%86%8C%E7%9A%84%E9%97%AE%E9%A2%98/">Eureka集群的节点之间无法互相注册的问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>今天根据<a target="_blank" rel="noopener" href="https://blog.csdn.net/zyb2017/article/details/80220071">网上配置Eureka高可用注册中心的教程</a>来试着配置eureka集群。</p>
<p>我的Eureka配置文件如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">spring:</span><br><span class="line">  profiles: peer1</span><br><span class="line">  application:</span><br><span class="line">    name: eureka-server</span><br><span class="line">server:</span><br><span class="line">  port: 8761</span><br><span class="line"></span><br><span class="line">eureka:</span><br><span class="line">  instance:</span><br><span class="line">    hostname: localhost</span><br><span class="line">  client:</span><br><span class="line">    fetch-registry: true</span><br><span class="line">    register-with-eureka: false</span><br><span class="line">    serviceUrl:</span><br><span class="line">      defaultZone: http:&#x2F;&#x2F;localhost:8762&#x2F;eureka&#x2F;</span><br><span class="line">---</span><br><span class="line">spring:</span><br><span class="line">  profiles: peer2</span><br><span class="line">  application:</span><br><span class="line">    name: eureka-server</span><br><span class="line">server:</span><br><span class="line">  port: 8762</span><br><span class="line"></span><br><span class="line">eureka:</span><br><span class="line">  instance:</span><br><span class="line">    hostname: localhost</span><br><span class="line">  client:</span><br><span class="line">    fetch-registry: true</span><br><span class="line">    register-with-eureka: false</span><br><span class="line">    serviceUrl:</span><br><span class="line">      defaultZone: http:&#x2F;&#x2F;localhost:8761&#x2F;eureka&#x2F;</span><br></pre></td></tr></table></figure>
<p>运行时启动两个实例，profiles分别为peer1和peer2。<br>启动后访问localhost:8761，eureka界面如下:<br><img src="http://sucaiji.net/usr/uploads/2020/03/344391222.png" alt="1.png"></p>
<p>访问localhost:8762，界面如下：<br><img src="http://sucaiji.net/usr/uploads/2020/03/2112837234.png" alt="2.png"></p>
<p>可见peer1和peer2之间并没有互相注册，因为peer1和peer2中unavailable-replicas和<br>available-replicas为空，且我在peer1中注册的zuul实例，并没有共享给peer2.</p>
<p>后来发现原因是因为如果hostname写的localhost或者127.0.0.1的话，就会出现这种问题，当时嫌麻烦就用的localhost代替，坑啊。</p>
<p><a target="_blank" rel="noopener" href="https://jingyan.baidu.com/article/425e69e6e479a2be15fc16e1.html">这是win10改host的教程</a>，将peer1和peer2都指向localhost之后，修改Eureka配置如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">spring:</span><br><span class="line">  profiles: peer1</span><br><span class="line">  application:</span><br><span class="line">    name: eureka-server</span><br><span class="line">server:</span><br><span class="line">  port: 8761</span><br><span class="line"></span><br><span class="line">eureka:</span><br><span class="line">  instance:</span><br><span class="line">    hostname: peer1</span><br><span class="line">  client:</span><br><span class="line">    fetch-registry: true</span><br><span class="line">    register-with-eureka: false</span><br><span class="line">    serviceUrl:</span><br><span class="line">      defaultZone: http:&#x2F;&#x2F;peer2:8762&#x2F;eureka&#x2F;</span><br><span class="line">---</span><br><span class="line">spring:</span><br><span class="line">  profiles: peer2</span><br><span class="line">  application:</span><br><span class="line">    name: eureka-server</span><br><span class="line">server:</span><br><span class="line">  port: 8762</span><br><span class="line"></span><br><span class="line">eureka:</span><br><span class="line">  instance:</span><br><span class="line">    hostname: peer2</span><br><span class="line">  client:</span><br><span class="line">    fetch-registry: true</span><br><span class="line">    register-with-eureka: false</span><br><span class="line">    serviceUrl:</span><br><span class="line">      defaultZone: http:&#x2F;&#x2F;peer1:8761&#x2F;eureka&#x2F;</span><br></pre></td></tr></table></figure>
<p>再次启动，访问peer2:8762，看到了peer1:8761的信息和zuul实例的信息，问题解决</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/03/23/Eureka%E9%9B%86%E7%BE%A4%E7%9A%84%E8%8A%82%E7%82%B9%E4%B9%8B%E9%97%B4%E6%97%A0%E6%B3%95%E4%BA%92%E7%9B%B8%E6%B3%A8%E5%86%8C%E7%9A%84%E9%97%AE%E9%A2%98/" data-id="ckdcpv4yi0000ygu2bwwk8e2a" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-TODO LIST" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/02/TODO%20LIST/" class="article-date">
  <time datetime="2019-08-02T06:38:00.000Z" itemprop="datePublished">2019-08-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/08/02/TODO%20LIST/">TODO LIST</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="个人"><a href="#个人" class="headerlink" title="个人"></a>个人</h1><h2 id="项目"><a href="#项目" class="headerlink" title="项目"></a>项目</h2><ol>
<li>规则引擎项目</li>
</ol>
<h2 id="框架与中间件"><a href="#框架与中间件" class="headerlink" title="框架与中间件"></a>框架与中间件</h2><ol>
<li><p>rabbitmq  延时队列</p>
</li>
<li><p>redis </p>
<ol>
<li>事务</li>
<li>锁</li>
</ol>
</li>
<li><p>netty 源码</p>
</li>
<li><p>spring boot 源码</p>
</li>
<li><p>Elasticsearch(待定)  lucene</p>
</li>
<li><p>fico决策引擎（待定）</p>
</li>
</ol>
<h2 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h2><ol>
<li>动态规划</li>
<li>广/深优先搜索</li>
<li>回溯算法</li>
<li>贪心算法</li>
<li>排序</li>
<li>树</li>
<li>分支算法<br><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/merge-k-sorted-lists/">https://leetcode-cn.com/problems/merge-k-sorted-lists/</a></li>
</ol>
<p>附加：</p>
<ol>
<li>别名算法</li>
<li>布隆过滤器</li>
</ol>
<h2 id="数据库（选一精通）"><a href="#数据库（选一精通）" class="headerlink" title="数据库（选一精通）"></a>数据库（选一精通）</h2><ol>
<li>Hbase</li>
<li>mysql</li>
<li>oracle</li>
<li>事务隔离级别</li>
<li>MVCC</li>
<li>组合索引</li>
<li>最左前缀原则</li>
</ol>
<h2 id="并发"><a href="#并发" class="headerlink" title="并发"></a>并发</h2><ol>
<li>多线程、锁</li>
<li>java并发包</li>
<li>leetcode 并发题目</li>
<li>future、spring @Async</li>
<li>aqs<br>tryAcquireShared中for循环是为了保证get、set state原子性     失败重试机制在acquireShared中，所以lock要调用的方法是acquireShared而不是try</li>
</ol>
<h2 id="分布式"><a href="#分布式" class="headerlink" title="分布式"></a>分布式</h2><ol>
<li>分布式事务<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/bjweimengshu/article/details/79607522">https://blog.csdn.net/bjweimengshu/article/details/79607522</a></li>
<li>链路追踪 zipkin skywalking</li>
<li>分布式缓存技术 （除了redis）</li>
</ol>
<h2 id="业务相关"><a href="#业务相关" class="headerlink" title="业务相关"></a>业务相关</h2><ol>
<li>支付中心 支付路由</li>
<li>短信中心</li>
<li>风控系统</li>
<li>智能营销、ABTest</li>
</ol>
<h2 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h2><ol>
<li>最优单例实现</li>
<li>门面模式</li>
<li>使用策略模式重新设计游戏装备系统(写篇文章记录一下心得)</li>
</ol>
<h2 id="java"><a href="#java" class="headerlink" title="java"></a>java</h2><ol>
<li>浅克隆和深克隆</li>
<li>io nio  零拷贝原理</li>
<li>jvm原理</li>
<li>HashMap  NavigableMap TreeMap 等源码</li>
<li>HashSet 底层使用HashMap<br><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/2235546/why-does-hashset-implementation-in-sun-java-use-hashmap-as-its-backing">https://stackoverflow.com/questions/2235546/why-does-hashset-implementation-in-sun-java-use-hashmap-as-its-backing</a></li>
</ol>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><ol>
<li>linux shell</li>
<li>正则表达式</li>
<li>JHipster</li>
<li>React</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/08/02/TODO%20LIST/" data-id="ckdcpv4yn0001ygu24svoa5j2" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Spring Cloud的各种资料" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/09/17/Spring%20Cloud%E7%9A%84%E5%90%84%E7%A7%8D%E8%B5%84%E6%96%99/" class="article-date">
  <time datetime="2018-09-17T03:48:15.000Z" itemprop="datePublished">2018-09-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/09/17/Spring%20Cloud%E7%9A%84%E5%90%84%E7%A7%8D%E8%B5%84%E6%96%99/">Spring Cloud的各种资料</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="推荐资料"><a href="#推荐资料" class="headerlink" title="推荐资料"></a>推荐资料</h2><hr>
<ul>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/43023436">java3y的入门资料，写的很通俗易懂</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/forezp/article/details/70148833">史上最简单的 SpringCloud 教程</a></li>
<li><a target="_blank" rel="noopener" href="https://springcloud.cc/">Spring Cloud中文网</a></li>
<li><a target="_blank" rel="noopener" href="http://projects.spring.io/spring-cloud/">Spring Cloud官网</a></li>
</ul>
<p>持续收录中。。。。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/09/17/Spring%20Cloud%E7%9A%84%E5%90%84%E7%A7%8D%E8%B5%84%E6%96%99/" data-id="ckdcpv4yo0002ygu204zrdu3j" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-java对象与内存控制" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/09/14/java%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%86%85%E5%AD%98%E6%8E%A7%E5%88%B6/" class="article-date">
  <time datetime="2018-09-14T06:29:08.000Z" itemprop="datePublished">2018-09-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/09/14/java%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%86%85%E5%AD%98%E6%8E%A7%E5%88%B6/">java对象与内存控制</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>这篇是以前我发在知乎上的，现在转到博客上</p>
<p>看李刚的《疯狂java：突破程序员基本功的16课》感觉收获很大，将很多平时遗漏的知识点都复习了一遍，所以写一篇文章总结，既是巩固知识点，又可以让各位大牛来指出不足之处。</p>
<h2 id="实例变量的初始化时机："><a href="#实例变量的初始化时机：" class="headerlink" title="实例变量的初始化时机："></a>实例变量的初始化时机：</h2><p>对象实例化时 ，首先在堆中划分一块区域给对象，但是此时并不会赋值。如以下代码：</p>
<pre><code>public class One &#123;
    &#123;
        i = 20;
    &#125;
    private int i = 5;
    public One() &#123;
        System.out.println(&quot;i的值是:&quot; + i);
    &#125;
    public static void main(String[] args) &#123;
        new One();
    &#125;
&#125;</code></pre>
<p>输出结果是 i的值是5</p>
<p>首先会先给 i 这个变量划分一块位置，但是此时并不进行赋值，也就是说此时 i 的值是默认值，也就是0.之后会根据声明变量与初始化块中赋值语句的先后顺序，决定赋值的先后顺序。也就是说，上面代码对 i 赋值的步骤可以变成这样：</p>
<pre><code>private int i;
i = 20;
i = 5;</code></pre>
<p>所以该程序的运行结果为 “i的值是 5”</p>
<p>反之，如果代码这么写</p>
<pre><code>public class One &#123;
    private int i = 5;
    &#123;
        i = 20;
    &#125;
    public One() &#123;
        System.out.println(&quot;i的值是:&quot; + i);
    &#125;
    public static void main(String[] args) &#123;
        new One();
    &#125;
&#125;</code></pre>
<p>i的输出结果就是 20</p>
<p>类变量的初始化与此同理。</p>
<p>有可能出现的问题：</p>
<p>当变量还没有被赋值就被调用，就会得出错误的数。</p>
<p>比如</p>
<pre><code>public class One &#123;
    private static One one = new One();
    private static int i = 5;
    public One() &#123;
        int k = i - 5;
        System.out.println(k);
    &#125;
    public static void main(String[] args) &#123;  
    &#125;
&#125;</code></pre>
<p>初始化块一般是用在给匿名内部类中当作构造方法用的，如果说不慎把声明变量的语句与初始化块顺序颠倒的话，就会出现错误。</p>
<pre><code>interface IBase&#123;
    void print();
&#125;
public class Main &#123;
    public static void main(String[] args) &#123;
        IBase i = new IBase() &#123;
            &#123;
                i = 15;
            &#125;
            private int i = 20;
            @Override
            public void print() &#123;
                System.out.println(&quot;i的值是&quot; + i);
            &#125;
        &#125;;
        i.print();
    &#125;
&#125;</code></pre>
<p>结果是”i的值是20”</p>
<h2 id="类的初始化过程："><a href="#类的初始化过程：" class="headerlink" title="类的初始化过程："></a>类的初始化过程：</h2><p>首先这个类有没有被初始化，如果没有，就调用这个类的静态初始化块（如果有静态初始化块的话），然后就是从这个类的最终父类执行父类的代码块然后执行构造方法，然后是子类的代码块然后构造方法，子类的子类的代码块构造方法以此类推。</p>
<pre><code>class One &#123;
    public One() &#123;
        System.out.println(&quot;One&quot;);
    &#125;
    &#123;
        System.out.println(&quot;One 的初始化块&quot;);
    &#125;
&#125;
class Two extends One &#123;
    public Two() &#123;
        System.out.println(&quot;Two&quot;);
    &#125;
    &#123;
        System.out.println(&quot;Two 的初始化块&quot;);
    &#125;
&#125;
class Three extends Two &#123;
    public Three() &#123;
        System.out.println(&quot;Three&quot;);
    &#125;
    &#123;
        System.out.println(&quot;Three 的初始化块&quot;);
    &#125;
&#125;

class Four extends Three &#123;
    public Four() &#123;
        System.out.println(&quot;Four&quot;);
    &#125;
    &#123;
        System.out.println(&quot;Four 的初始化块&quot;);
    &#125;
&#125;

public class Five extends Four&#123;
    public Five() &#123;
        System.out.println(&quot;Five&quot;);
    &#125;
    &#123;
        System.out.println(&quot;Five 的初始化块&quot;);
    &#125;
    public static void main(String[] args) &#123;
        new Five();
    &#125;
&#125;</code></pre>
<p>输出的结果是</p>
<p>One 的初始化块</p>
<p>One</p>
<p>Two 的初始化块</p>
<p>Two</p>
<p>Three 的初始化块</p>
<p>Three</p>
<p>Four 的初始化块</p>
<p>Four</p>
<p>Five 的初始化块</p>
<p>Five</p>
<p>以上是我对书中知识点的理解，如果有错误的话请指出，我会尽快改正的。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/09/14/java%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%86%85%E5%AD%98%E6%8E%A7%E5%88%B6/" data-id="ckdcpg73o0000y4u2203753xf" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-将SpringBoot打成war包并部署" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/09/14/%E5%B0%86SpringBoot%E6%89%93%E6%88%90war%E5%8C%85%E5%B9%B6%E9%83%A8%E7%BD%B2/" class="article-date">
  <time datetime="2018-09-14T03:16:32.000Z" itemprop="datePublished">2018-09-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/09/14/%E5%B0%86SpringBoot%E6%89%93%E6%88%90war%E5%8C%85%E5%B9%B6%E9%83%A8%E7%BD%B2/">将SpringBoot打成war包并部署</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Maven中的设置<br>将打包类型jar</p>
<pre><code>&lt;packaging&gt;jar&lt;/packaging&gt;</code></pre>
<p>修改为war</p>
<pre><code>&lt;packaging&gt;war&lt;/packaging&gt;</code></pre>
<p>将以下代码</p>
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
<p>替换为</p>
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
    &lt;exclusions&gt;
        &lt;exclusion&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;
        &lt;/exclusion&gt;
    &lt;/exclusions&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;</code></pre>
<p>让程序启动类继承 SpringBootServletInitializer，并重写configure方法，以WebsocketServerApplication为例</p>
<pre><code>@SpringBootApplication
@EnableAutoConfiguration
public class WebsocketServerApplication extends SpringBootServletInitializer &#123;
  public static void main(String[] args) &#123;
    SpringApplication.run(WebsocketServerApplication.class, args);
  &#125;
  @Override
  protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) &#123;
    return builder.sources(WebsocketServerApplication.class);
  &#125;
&#125;</code></pre>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/09/14/%E5%B0%86SpringBoot%E6%89%93%E6%88%90war%E5%8C%85%E5%B9%B6%E9%83%A8%E7%BD%B2/" data-id="ckdcpv4yq0003ygu2eit87lt7" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/08/02/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2020/05/18/ArrayList%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/">ArrayList源码阅读笔记</a>
          </li>
        
          <li>
            <a href="/2020/05/07/%E6%97%A0%E7%89%88%E6%9D%83%E7%B4%A0%E6%9D%90%E7%BD%91%E6%94%B6%E9%9B%86/">无版权素材网收集</a>
          </li>
        
          <li>
            <a href="/2020/03/23/Eureka%E9%9B%86%E7%BE%A4%E7%9A%84%E8%8A%82%E7%82%B9%E4%B9%8B%E9%97%B4%E6%97%A0%E6%B3%95%E4%BA%92%E7%9B%B8%E6%B3%A8%E5%86%8C%E7%9A%84%E9%97%AE%E9%A2%98/">Eureka集群的节点之间无法互相注册的问题</a>
          </li>
        
          <li>
            <a href="/2019/08/02/TODO%20LIST/">TODO LIST</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 sucaiji<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>